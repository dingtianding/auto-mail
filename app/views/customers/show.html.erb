<h1><%= @customer.name %></h1>

<div class="customer-details">
  <p><strong>Email:</strong> <%= @customer.email %></p>
  <p><strong>Address:</strong> <%= @customer.address %></p>
  <p><strong>Phone:</strong> <%= @customer.phone %></p>
</div>

<h2>Generate New Letter</h2>
<%= form_with(url: customer_mailing_documents_path(@customer), local: true) do |f| %>
  <div class="field">
    <%= f.label :content, "Letter Content" %>
    <%= f.text_area :content, rows: 10, 
        value: "Dear #{@customer.name},\n\nThis is a sample letter content.\n\nBest regards,\nYour Company" %>
  </div>
  
  <%= f.submit 'Generate Letter', class: 'button' %>
<% end %>

<h2>Previous Documents</h2>
<div class="documents">
  <% @customer.mailing_documents.each do |doc| %>
    <div class="document">
      <p>Status: <%= doc.status %></p>
      <% if doc.pdf_path %>
        <%= link_to 'View PDF', doc.pdf_path, target: '_blank', class: 'button' %>
      <% end %>
      <p>Created: <%= doc.created_at.strftime("%B %d, %Y") %></p>
    </div>
  <% end %>
</div>
